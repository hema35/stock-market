<h2>Create Stock Form</h2>

<div class="form-group">
  <form [formGroup]="stockForm" (ngSubmit)="onSubmit()">
  <!-- <form (ngSubmit)="createStock(stockForm)" #stockForm="ngForm">
    <div ngModelGroup="stock">
    <div>The following element changes from green to red when it is invalid</div> -->
  <div class="stock-name">
    <input type="text" placeholder="Stock Name" name="stockName" formControlName="name">

  <div *ngIf="stockForm.get('name').invalid &&
  (stockForm.get('name').dirty ||
  stockForm.get('name').touched)">Name is required</div>
</div>
  <div>The following element changes from green to red when it has been modified</div>
  <div class="stock-code">
    <input type="text" placeholder="Stock Code" formControlName="code">


  <div *ngIf="stockForm.get('code').invalid &&
  (stockForm.get('code').dirty ||
  stockForm.get('code').touched)">
  <div *ngIf="stockForm.get('code').errors.required">Stock code is required</div>
  <div *ngIf="stockForm.get('code').errors.minlength">
    Stock Code must be atleast of length 2</div>
  </div>
  </div>

  <div>The following element changes from green to red when it is visited by the user, regardless of change</div>
  <div class="stock-price">
    <input type="number" placeholder="Stock Price" formControlName="price">


  <div *ngIf="stockForm.get('price').invalid &&
  (stockForm.get('price').dirty ||
  stockForm.get('price').touched)">
  <div *ngIf="stockForm.get('price').errors.required">Stock price is required</div>
  <div *ngIf="stockForm.get('price').errors.min">Stock price must be positive</div>
</div>
  </div>
  <!-- <div class="stock-exchange">
    <div><select name="exchange" ngModel>
        <option *ngFor="let exchange of exchanges" [ngValue]="exchange">{{exchange}}</option>

      </select></div> -->
    <!-- <div>
        <input type="radio" name="stockExchange" [(ngModel)]="stock.exchange" value="NYSE">NYSE
      </div>

      <div>
        <input type="radio" name="stockExchange"
        [(ngModel)]="stock.exchange" value="NASDAQ">NASDAQ
      </div>

      <div>
        <input type="radio" name="stockExchange"
        [(ngModel)]="stock.exchange" value="OTHER">OTHER
      </div> -->
  <!-- </div> -->
  <!-- <div class="stock-confirm">
      <input type="checkbox" name="stockConfirm" required
       [(ngModel)]="confirmed">I confirm that the information provided is accurate!
    </div> -->
<!-- </div> -->
<div formArrayName="notablePeople">
  <div *ngFor="let person of notablePeople.controls; let i=index"
  [formGroupName]="i" class="notable-people">
<div>Person {{i+1}}</div>
<div><input type="text" placeholder="Person Name" formControlName="name"></div>
<div><input type="text" placeholder="Person Title" formControlName="title">
</div>
<button type="button" (click)="removeNotablePerson(i)">Remove Person</button>
</div>
</div>
<button type="button" (click)="addNotablePerson()">Add notable person</button>
<button type="submit">Submit</button>
<button type="button" (click)="resetForm()">Reset</button>
<!-- <button type="button" (click)="loadStockFromServer()">Simulate stock load fromserver</button> -->
<!-- <button type="button" (click)="patchStockForm()">Patch stock form</button> -->
</form>
</div>

<p>Form Control value: {{ stockForm.value | json }}</p>
<p>Form Control status: {{ stockForm.status | json }}</p>
<!-- <p>Stock value: {{stock | json}}</p> -->
